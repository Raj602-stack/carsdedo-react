{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import\"../styles/SpinnyBuzz.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SAMPLE=[{id:\"b1\",source:\"AFAQS\",title:\"Someone share bond with their dogs in new Spinny ad\",image:process.env.PUBLIC_URL+\"/moneyback.png\",url:\"#\"},{id:\"b2\",source:\"AFAQS\",title:\"carsDedo celebrate 3 years of partnership\",image:process.env.PUBLIC_URL+\"/fixedprice.png\",url:\"#\"},{id:\"b3\",source:\"Yourstory\",title:\"Earning trust with no shortcuts, no price negotiations\",image:process.env.PUBLIC_URL+\"/inspection.png\",url:\"#\"},{id:\"b4\",source:\"Dainik Bhaskar\",title:\"CarsDedo Park Lucknow with North-India's Largest car inventory\",image:process.env.PUBLIC_URL+\"/warranty.png\",url:\"#\"}// add more if you want the carousel longer\n];export default function SpinnyBuzz(_ref){let{items=SAMPLE}=_ref;const[index,setIndex]=useState(0);const[visible,setVisible]=useState(getVisibleCount(window.innerWidth));const trackRef=useRef(null);useEffect(()=>{const onResize=()=>setVisible(getVisibleCount(window.innerWidth));window.addEventListener(\"resize\",onResize);return()=>window.removeEventListener(\"resize\",onResize);},[]);useEffect(()=>{// clamp index when visible or items change\nconst max=Math.max(0,items.length-visible);setIndex(i=>Math.min(i,max));},[visible,items.length]);// keyboard navigation\nuseEffect(()=>{const onKey=e=>{if(e.key===\"ArrowLeft\")prev();if(e.key===\"ArrowRight\")next();};window.addEventListener(\"keydown\",onKey);return()=>window.removeEventListener(\"keydown\",onKey);});const prev=()=>setIndex(i=>Math.max(0,i-1));const next=()=>setIndex(i=>Math.min(i+1,Math.max(0,items.length-visible)));const itemWidthPercent=100/visible;const trackWidthPercent=items.length*itemWidthPercent;const translatePercent=index*itemWidthPercent;return/*#__PURE__*/_jsx(\"section\",{className:\"sb-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sb-inner\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"sb-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sb-rule\"}),/*#__PURE__*/_jsx(\"span\",{children:\"CarsDedo Buzz\"}),/*#__PURE__*/_jsx(\"span\",{className:\"sb-rule\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sb-wrapper\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"sb-arrow left\",onClick:prev,\"aria-label\":\"Previous\",disabled:index===0,children:\"\\u2039\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sb-viewport\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sb-track\",ref:trackRef,style:{width:\"\".concat(trackWidthPercent,\"%\"),transform:\"translateX(-\".concat(translatePercent,\"%)\")},children:items.map(it=>/*#__PURE__*/_jsx(\"article\",{className:\"sb-item\",style:{width:\"\".concat(itemWidthPercent,\"%\")},children:/*#__PURE__*/_jsxs(\"a\",{className:\"sb-card\",href:it.url,\"aria-label\":it.title,children:[/*#__PURE__*/_jsx(\"div\",{className:\"sb-bg\",children:/*#__PURE__*/_jsx(\"img\",{src:it.image,alt:it.title,loading:\"lazy\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"sb-overlay\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sb-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sb-source\",children:[it.source,\" \\u203A\"]}),/*#__PURE__*/_jsx(\"h3\",{className:\"sb-headline\",children:it.title})]})]})},it.id))})}),/*#__PURE__*/_jsx(\"button\",{className:\"sb-arrow right\",onClick:next,\"aria-label\":\"Next\",disabled:index>=Math.max(0,items.length-visible),children:\"\\u203A\"})]})]})});}/* helper: visible count based on width */function getVisibleCount(width){if(width<=600)return 1;if(width<=980)return 2;return 4;}","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","SAMPLE","id","source","title","image","process","env","PUBLIC_URL","url","SpinnyBuzz","_ref","items","index","setIndex","visible","setVisible","getVisibleCount","window","innerWidth","trackRef","onResize","addEventListener","removeEventListener","max","Math","length","i","min","onKey","e","key","prev","next","itemWidthPercent","trackWidthPercent","translatePercent","className","children","onClick","disabled","ref","style","width","concat","transform","map","it","href","src","alt","loading"],"sources":["/Users/rajyadav/Desktop/carsdedo/src/components/SpinnyBuzz.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport \"../styles/SpinnyBuzz.css\";\n\nconst SAMPLE = [\n  {\n    id: \"b1\",\n    source: \"AFAQS\",\n    title: \"Someone share bond with their dogs in new Spinny ad\",\n    image: process.env.PUBLIC_URL + \"/moneyback.png\",\n    url: \"#\",\n  },\n  {\n    id: \"b2\",\n    source: \"AFAQS\",\n    title: \"carsDedo celebrate 3 years of partnership\",\n    image: process.env.PUBLIC_URL + \"/fixedprice.png\",\n    url: \"#\",\n  },\n  {\n    id: \"b3\",\n    source: \"Yourstory\",\n    title: \"Earning trust with no shortcuts, no price negotiations\",\n    image: process.env.PUBLIC_URL + \"/inspection.png\",\n    url: \"#\",\n  },\n  {\n    id: \"b4\",\n    source: \"Dainik Bhaskar\",\n    title: \"CarsDedo Park Lucknow with North-India's Largest car inventory\",\n    image: process.env.PUBLIC_URL + \"/warranty.png\",\n    url: \"#\",\n  },\n  // add more if you want the carousel longer\n];\n\nexport default function SpinnyBuzz({ items = SAMPLE }) {\n  const [index, setIndex] = useState(0);\n  const [visible, setVisible] = useState(getVisibleCount(window.innerWidth));\n  const trackRef = useRef(null);\n\n  useEffect(() => {\n    const onResize = () => setVisible(getVisibleCount(window.innerWidth));\n    window.addEventListener(\"resize\", onResize);\n    return () => window.removeEventListener(\"resize\", onResize);\n  }, []);\n\n  useEffect(() => {\n    // clamp index when visible or items change\n    const max = Math.max(0, items.length - visible);\n    setIndex((i) => Math.min(i, max));\n  }, [visible, items.length]);\n\n  // keyboard navigation\n  useEffect(() => {\n    const onKey = (e) => {\n      if (e.key === \"ArrowLeft\") prev();\n      if (e.key === \"ArrowRight\") next();\n    };\n    window.addEventListener(\"keydown\", onKey);\n    return () => window.removeEventListener(\"keydown\", onKey);\n  });\n\n  const prev = () => setIndex((i) => Math.max(0, i - 1));\n  const next = () =>\n    setIndex((i) => Math.min(i + 1, Math.max(0, items.length - visible)));\n\n  const itemWidthPercent = 100 / visible;\n  const trackWidthPercent = items.length * itemWidthPercent;\n  const translatePercent = index * itemWidthPercent;\n\n  return (\n    <section className=\"sb-section\">\n      <div className=\"sb-inner\">\n        <h2 className=\"sb-title\">\n          <span className=\"sb-rule\" />\n          <span>CarsDedo Buzz</span>\n          <span className=\"sb-rule\" />\n        </h2>\n\n        <div className=\"sb-wrapper\">\n          <button\n            className=\"sb-arrow left\"\n            onClick={prev}\n            aria-label=\"Previous\"\n            disabled={index === 0}\n          >\n            ‹\n          </button>\n\n          <div className=\"sb-viewport\">\n            <div\n              className=\"sb-track\"\n              ref={trackRef}\n              style={{\n                width: `${trackWidthPercent}%`,\n                transform: `translateX(-${translatePercent}%)`,\n              }}\n            >\n              {items.map((it) => (\n                <article\n                  key={it.id}\n                  className=\"sb-item\"\n                  style={{ width: `${itemWidthPercent}%` }}\n                >\n                  <a className=\"sb-card\" href={it.url} aria-label={it.title}>\n                    <div className=\"sb-bg\">\n                      <img src={it.image} alt={it.title} loading=\"lazy\" />\n                    </div>\n\n                    <div className=\"sb-overlay\" />\n\n                    <div className=\"sb-content\">\n                      <div className=\"sb-source\">{it.source} ›</div>\n                      <h3 className=\"sb-headline\">{it.title}</h3>\n                    </div>\n                  </a>\n                </article>\n              ))}\n            </div>\n          </div>\n\n          <button\n            className=\"sb-arrow right\"\n            onClick={next}\n            aria-label=\"Next\"\n            disabled={index >= Math.max(0, items.length - visible)}\n          >\n            ›\n          </button>\n        </div>\n      </div>\n    </section>\n  );\n}\n\n/* helper: visible count based on width */\nfunction getVisibleCount(width) {\n  if (width <= 600) return 1;\n  if (width <= 980) return 2;\n  return 4;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}